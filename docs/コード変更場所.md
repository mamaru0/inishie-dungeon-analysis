# 1. セキュリティ設定の変更
変更目的: セキュリティ制限により、ローカルファイルへのアクセスが制限されるのを防ぐ為。後のAccessClassの処理に影響してくる。

- **crossdomain.xml**というファイルを作る。ファイルの中身は以下の通り。
```xml
<cross-domain-policy>
    <allow-access-from domain="*" />
</cross-domain-policy>
```
- Main 204行目: ```Security.loadPolicyFile .. ```を以下に変更。
```as3
Security.loadPolicyFile("C:\path\to\crossdomain.xml");
```
>[!WARNING]
>"C:\path\to\crossdomain.xml"には、crossdomain.xmlのパスを入れて下さい。

# 2. トライアルモードに変更
変更目的: ローカル用のコードに変更して、サーバー上で呼ばれる関数を回避する為。日誌は付けられなくなる。

- Main 34行目: ```public var trial_flag .. ```を以下に変更。
```as3
public var trial_flag:Boolean = true;
```

# 3. サーバー通信部分の補完

- **inishie.cgi**というファイルを作る。ファイルの中身は空。`Event.COMPLETE`を呼び出す為だけに作る。

- AccessClass 350行目、```loaderCompleteFunc```の最初の行に、```this.loader.data```を変更するコードを書く。
- ```this.loader.data```の型は```URLVariables```。
- 例えば、以下のようなコードを書く。
```as3
this.loader.data.mode = "first";
this.loader.data.itemlist = "1001/サーベル/0/5/9/0/0/0/0/Rush/100/sword:numC:ran:cnt:frz:dog:blc//\n1002/ロングソード/0/6/12/0/4/0/0/Chilling/240/sword:frz:ran//\n .. (略) .. ";
```
- データベースは"**一部**"復元して[data](/data)に置いているので、参考にして下さい。

>[!WARNING]
>AccessClassはアクセス終了後に破棄されます。AccessClass内に変数を定義する場合、値はアクセスの度に破棄されるので注意。

>[!WARNING]
>データベースの一部のデータには、仮データや推測データが含まれます。文法を参考にする程度が好ましいです。
